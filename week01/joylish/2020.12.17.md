# 1주차 20.12.17

## 🔮 헷갈리거나 어려운 문제 목록
- 8번 (머리가 안돌아가네유ㅠ)
- 10번

## 😲 공부하면서 느낀 점 및 후기
- 오늘 스터디 첫 날이고 아침부터 시작이라 눈이 핑핑 돌았다 내일은 오늘 못 푼거랑 12번부터~ㅋㅋ 

## 👻 공부하면서 어렵거나 중요한 개념 정리
## 1. Auto Scaling Group (ASG)
- 목적: 애플리케이션 가용성 유지
- 여러 리전 확장 불가능
- 여러 가용 영역 확장 가능
  > Auto Scaling은 항상 여러 가용 영역 간에 컴퓨팅의 균형을 유지하려고 하며 한 가용 영역에서 모든 인스턴스 유형을 사용할 수 없는 경우 대상을 다시 지정한다.
- 💫 데이터는 기존 인스턴스에서 새로운 인스턴스로 자동으로 복사되지 않는다. <b>수명 주기 후크</b>를 사용하여 데이터를 복사하거나 <b>Amazon RDS 데이터베이스</b>를 사용하여 복제본을 만들어야 함
- 💫 상태 확인: ELB, 직접 EC2 확인
  > ELB에서 인스턴스가 비정상임을 알게 되면 해당 인스턴스로 요청을 라우팅하는 것을 중단한다. 하지만 인스턴스가 비정상임을 발견하기 전에 해당 인스턴스로 전송된 일부 요청은 실패하게 된다.

- 💫 정책
  - 조정 정책 (인스턴스 연결 및 분리, 그룹 크기 관리)
  - 종료 정책 (종료 인스턴스 선택 관리)
  > Suspending Terminate Policy
  >
  > 데이터 손실을 방지하지 않지만, 다른 프로세스를 중단하고 축소를 방지한다.
  >
  > Terminate Policy    
    종료할 인스턴스 지정만, 종료되기 전 데이터 복사는 안되어 추가 설정이 필요하다.

- 💫 비용 최적화 방식

  1. 온디맨드 및 스팟 인스턴스 혼합 지원
  > [스팟 인스턴스](https://blog.leedoing.com/178)
  > 
  > AWS 스팟 인스턴스는 사전 약정 없이 On-demand 요금보다 70~90% 절감된 비용으로 사용할 수 있는 EC2 Instance(VM)이다.
  >
  > 시작하려는 인스턴스에 대해 현재 시간에 유효한 가격만 지불하면 된다.
  
  2. 탄력성 유지하면서 비용 최적화
  - ASG 내 냉각 타이머 수정
  - ASG 축소 정책을 트리거하는 CloudWatch 경보 기간 수정

  : 올바른 임계 값 정의 

- [수명 주기 후크](https://docs.aws.amazon.com/ko_kr/autoscaling/ec2/userguide/lifecycle-hooks.html)

    Auto Scaling 그룹에 수명 주기 후크를 추가하면 인스턴스를 시작하거나 종료할 때 인스턴스를 일시 중지하여 <b>사용자 지정 작업</b>을 수행할 수 있다.
  
    1. 시작 후크
    2. 종료 후크
  
    대기 상태에서 사용자 지정 작업(complete-lifecycle-action 명령 또는 CompleteLifecycleAction을 사용하여 수명 주기 작업)을 수행할 수 있다.
    - 상태 저장 인스턴스에서 중요한 운영 데이터 검색 가능
    - 인스턴스에 소프트웨어 설치
    
    기본 대기 시간은 1시간이다.
    > 🤔 상태 저장 인스턴스란?
    >
    > : 그 인스턴스에만 존재하는 데이터가 있는 인스턴스
    >
    >따라서 상태 저장 인스턴스를 종료한다는 것은 인스턴스에 있는 데이터(또는 상태 정보)가 손실된다는 의미하는 것이다.

## 2. Kinesis
실시간 데이터를 수집, 처리 및 분석하는 데 사용

## 3. SQS
- 짧은 폴링 사용한다. 즉, 여러번 빈 응답으로 메시지를 송수신하기 때문에 상대적으로 비용이 증가한다.

## 4. S3
1. [S3 이벤트 알림](https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/dev/NotificationHowTo.html)
  - 알림 이벤트 종류
    - 새 객체 생성
    - 객체 제거
    - 객체 복원
    - RRS 객체 손실
    - 복제
  - 메시지 게시 대상
    - SNS 주제 
    - SQS 대기열
    - AWS Lambda

## 5. Aurora
완전관리형 MYSQL 및 PostgreSQL과 호환되는 관계형 데이터베이스 엔진

## 6. Elastic BeanStalk
목적

: AWS에서 애플리케이션을 배포 및 관리

관련 시나리오
- AWS RDS를 사용하는 웹어플리케이션
- 웹사이트 용량 프로비저닝 및 로드밸런싱
  > 환경을 생성할 때 ELB 애플리케이션을 실행하는 데 필요한 리소스를 프로비저닝한다.
  - ELB
  - EC2 or ASG

## 7. 스토리지 비용최적화 옵션
- SSD 지원 볼륨

  IO 크기가 작은 빈번한 읽기 및 쓰기 작업이 포함된 트랜잭션 워크로드에 최적화.

  즉, 초당 입출력 연산을 중요시하는 RDB에 초점

- HDD 지원 볼륨

  처리량이 IOPS보다 더 나은 성능 측정값인 대규모 스트리밍 워크로드에 최적화
1. EBS 프로비저닝 된 IOPS SSD
2. EBS 처리량 최적화 HDD
최소 볼륨 500GB
3. EBS 범용 SSD
드물게 사용할 경우 IOPS SSD 대비 가장 비용 효율적
4. EFS