# 1주차 2020.01.12

## 🔮 헷갈리거나 어려운 문제 목록

* 8, 17, 25 정답이 확실하지 않은 듯


## 😲 공부하면서 느낀 점 및 후기


## 👻 공부하면서 어렵거나 중요한 개념 정리



1) **실시간으로 데이터를 수신**할 수 있다.

> Kinesis Data Streams를 사용하여 데이터 수집 AWS Lambda 함수를 사용하여 데이터를 처리한다.



2) Amazon Aurora MySQL의 다중 AZ 배포가 고가용성이여야 하며 처음에는 3개의 가용영역이 있는 ASW 리전에서 시작된다.

> **간단한 조정정책**을 사용하여 ALB 뒤에 ALB 및 ec2 Auto Scaling을 구성한다.



3) AWS 계정 루트 사용자 엑세스를 보호해야 한다.

> MFA (다단계 인증) 사용
>
> **관리 권한**이 있는 **그룹에 루트 사용자를 추가**한다. 



4) SQS 대기열에 알리도록 구성된 기존 S3 버킷이 있다. 

개발 팀은 **새로운 객체가 생성 될 때 이벤트를 수신**하려고 한다. 

기존 운영 팀 워크 플로는 그대로 유지되어야 한다.

> **버킷 업데이트를 위한** SNS 주제 및 SQS 대기열을 생성합니다. 버킷을 업데이트하여 새 주제로 이벤트를 내보냅니다. **주제의 두 대기열 모두에 대해 구독 추가.**



5) **IPv6**을 활성화한 상태로 모든 AWS VPC를 배포하기로 결정했다.

새 인스턴스를 시작하려고 시도하고 서브넷에서 **사용 가능한 ip 주소 공간이 충분하지 않다는 오류를 수신**한다.

> 더 넓은 범위의 새로운 IPv6  전용 서브넷을 생성한 다음 인스턴스를 시작한다.



6) 퍼블릭 웹 사이트에 엑세스 하여 패치 및 업데이트를 다운로드 해야하는 프라이빗 서브넷에서 실행되는 ec2 인스턴스가 있다.

**외부에서는 EC2 인스턴스 ip 주소를 보거나 연결을 시작하지 않기를 바란다.**

> 퍼블릭 서브넷에서 **NAT 게이트웨이 생성** , 프라이빗 서브넷에서 NAI 게이트 웨이를 통해 **아웃바운드 트래픽 라우팅**한다.



7) 타사 서비스가 DNS에 사용된다. 회사의 솔루션 아키텍트는 대규모 DDoS 공격을 탐지하고 보호할 솔루션을 권장해야한다.

>  AWS Shield를 활성화하고 Route 53을 할당한다.



/*조금 이상함*/

8) RDS MySQL DB 인스턴스를 사용하는 애플리케이션이 있다.

데이터베이스는 가동 중지 시간을 최소화하면서 가용 영역 및 AWS 리전에서 고가용성을 위해 설계되어야 한다.

> RDS MySQL 다중 AZ DB 인스턴스를 설정합니다. 다른 리전에 읽기 전용 복제본을 구성합니다. 
>
> 

9) 분석 데이터를 RDS 인스턴스에 저장해왔다. 사용자가 **API를 사용하여 이 데이터에 엑세스**할 수 있는 솔루션을 찾는다.

> API Gateway를 설정하고 **Lambda 함수 사용**



10) 클라우드 엔지니어가 Admin Tools 라는 **S3 버킷에서 읽고 쓸 수 있어야한다.** **어떤 IAM 정책**이 이러한 요구사항을 충족하는가

> 그림이 주어지면 1,2 줄의 Action, Resource 확인
>
> ```javascript
> {
>     "Action" : "s3: ListBucket"
>     "Resource" : "arn:aws:S3::: AdminTools"
> },
> {
>     "Action" : "s3: GetObject", "s3 : PutObject"
>     "Resource" : "arn:aws:S3::: AdminTools"
> }
> ```



11) AWS로 이동할 때 애플리케이션의 성능을 향상시키는 솔루션은?

> Amazon **Aurora MySQL 다중 AZ DB 클러스터 생성** 구성 클러스터의 백업 인스턴스를 보고서의 엔드 포인트로 사용하도록 애플리케이션이 구성됩니다.



12) 이전 버전의 개체는 자주 엑세스되지 않으며 2년 후에 삭제해야 합니다.

> 이전 버전의 객체를 **S3 Glacier로 전환**하도록 S3 수명주기 정책을 구성합니다. 2년 후 개체 만료



13) 전자 상거래 웹 사이트는 웹 애플리케이션을 ALB 뒤에 ECS 컨테이너 인스턴스로 배포합니다.

**CloudWatch 경보**를 사용하여 가용성 문제가 있을 때마다 **알림을 수신하므로 리소스를 확장**할 수 있다.

> **ALB에 시간 초과**가 있을 때 **ECS 서비스를 확장**하도록 Auto Scaling 설정  **CPU 또는 메모리 예약이 너무 높을 때** **ECS 클러스터를 확장**하도록 Auto Scaling을 설정합니다.



14) 백엔드, 프론트엔드 계층은 EC2에서 실행된다.

DB는 RDS에서 실행된다. 백엔드는 RDS와 통신한다.

백엔드의 성능을 향상시키기 위한 조치

> **Amazon ElastiCathe를 구현**하여 대용량 데이터 세트를 캐시하십시오.



15) 관리자가 **온프레미스에서 압축 된 이메일 파일**을 생성했으며 관리형 서비스가 파일을 **AWS 스토리지로 전송하기를 원한다**.

> **AWS 스토리지 게이트웨이**



16) 회사는 온프레미스 상태 기록을 관리하고 있다. 사용하지 않는 수백만 개의 레코드가 있고 현재 인프라에 공간이 부족해서 우려한다.

**CTO**는 솔루션 설계자에게 **기존 데이터를 이동**하고 **향후 레코드를 지원할 솔루션을 설계**하도록 요청했다.

> AW**S DataSync를 사용**하여 기존 데이터를 AWS로 이동하십시오. **S3**를 사용하여 **기존 및 새 데이터 저장**, S3 객체 잠금을 활성화하고 **관리 이벤트**와 함께 **CloudTrail을 활성화**한다.



/*조금 이상함*/

17) 매달 페타 바이트 규모의 아웃 바운드 트래픽을 제공하며 회사의 AWS 비용 대부분을 차지한다. 비용을 줄이기 위해서는?

> 기존 웹 사이트를 오리진으로 CloudFront로 구성한다.



18)  **다중 지역 재난 복구** RPO가 1초 RTO가 1분인 **관계형 데이터베이스를 구현**해야한다.

> **다중 AZ**가 활성화 된 MySQL용 **RDS**



19) 데이터베이스 **읽기가 높은 I / O를 유발**하고 데이터베이스에 대한 **쓰기 요청에 대기 시간이 추가**되는 것을 발견했다.

읽기 요청과 쓰기 요청을 분기하는 방법

> **읽기 전용 복제본을 작성**하고 **적절한 엔드포인트**를 사용하도록 애플리케이션을 수정한다.



20) **트래픽은 NLB를 통해 웹 계층의 EC2 인스턴스**로, 그리고 마지막으로 데이터 베이스 호출을 수행하는 **애플리케이션 계층의 EC2 인스턴스로 흐른다.**

> 로그밸런서를 **ALB로 변경**하고 AWS **WAF를 연결**한다.



21) 초기 디자인에는 **요청용 큐**와 **응답 큐**가 하나씩 포함되어 있었다. 그러나 이 접근 방식을 애플리케이션이 확장 될 때 **모든 메세지를 처리하지 않는다.**

> SQS  대기열의 ReceiveMessage API 작업에 **배달 못한 편지 대기열을 구성**합니다.



22) 다운로드 가능한 **과거 성과 보고서를 제공**한다.

사이트는 전 세계 회사의 웹 사이트 요구에 맞게 확장할 수 있는 솔루션이 필요하다.

솔루션은 비용효율적이여햐한다. Info 제공 및 가장 빠른 응답 시간 제공 

> **CloudFront 및 S3**



23) **vCPU**가 충분히 활용되지 않도록 비용을 최소화 해야한다.

> 적절한 수의 vCPU가 있는 **더 작은 EC2 인스턴스를 선택하고 시작**한다.



24) 회사는 관리 및 감사 검토를 간소화 하기 위해 **중앙 AWS 계정**을 생성했다. 

내부 감사자는 **CloudTrail 로그에 엑세스**해야 하지만 **모든 개발자 계정 사용자에 대해 엑세스를 제한**해야 한다. 솔루션은 안전하고 최적화되어야 한다.

> **각 개발자 계정**에서 AWS **Lambda 함수를 구성**하여 **로그 파일을 중앙 계정에 복사**합니다. 감사자를 위한 중앙 계정에서 IAM 역할을 생성합니다. 버킷에 읽기 전용 권한을 제공하는 IAM 정책을 연결합니다.



/*조금 이상함*/

25) **AWS 계정에 대한 암호 화폐 관련 공격을 모니터링**하고 방지하는 방법

> Amazon Macie - S3 버킷....
>
> Amazon Inspector - EC2 ...



26) 시작하는 동안 모델은 S3 에서 메모리로 최대 10GB의 데이터를 로드 해야 하지만 디스크 엑세스는 필요하지 않습니다.

대부분의 모델은 산발적으로 사용되지만 사용자는 모든 모델이 가용성이 높고 짧은 대기 시간으로 엑세스할 수 있기를 기대한다.

> **하나의 경로가** 각 모델에 해당하는 **경로 기반 라우팅**을 사용하여 **단일 API Gateway 뒤에 AWS Lambda 함수로 모델을 배포**합니다.



27) IAM 정책

> 사용자의 소스 IP가 10.100인 경우 us-east-1 리전에서 EC2 인스턴스를 종료할 수 있다.



28) 온프레미스 솔루션에 대한 완전관리형 대체를 제공해야한다. **온프레미스 시스템,** 원격 직원 및 **외부 파트너에서 연결하는 직원이 솔루션에 직접 엑세스** 할 수 있어야한다.

> 로컬 스토리지 및 대규모 데이터 전송에 **AWS Snowball Edge 사용**



29) 회사는 전 세계적으로 콘텐츠 배포 권한이 다르다. 솔루션 설계자는 **배포 권한을 위반하지 않고** 올바른 컨텐츠를 제공해야한다.

> AWS **WAF**로 **Application Load Balancer를 구성**한다.



30) 제품 데이터는 RDS MySQL DB인스턴스에 저장된다. 응용프로그램 성능 저하를 격리하고 **읽기 트래픽과 쓰기 트래픽을 분리**하려고 한다.

> 데이터베이스에 대한 읽기 전용 복제본 작성 **소스 데이터베이스와 동일한 컴퓨팅 및 스토리지 자원으로 읽기 전용 복제본 작성**